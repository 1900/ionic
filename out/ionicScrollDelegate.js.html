<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ext/angular/src/service/delegates/ionicScrollDelegate.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: ext/angular/src/service/delegates/ionicScrollDelegate.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>(function() {
'use strict';

angular.module('ionic.ui.service.scrollDelegate', [])

.factory('$ionicScrollDelegate', ['$rootScope', '$timeout', function($rootScope, $timeout) {
  return {
    /**
     * Trigger a scroll-to-top event on child scrollers.
     */
    scrollTop: function(animate) {
      $rootScope.$broadcast('scroll.scrollTop', animate);
    },
    scrollBottom: function(animate) {
      $rootScope.$broadcast('scroll.scrollBottom', animate);
    },
    resize: function() {
      $rootScope.$broadcast('scroll.resize');
    },
    tapScrollToTop: function(element) {
      var _this = this;

      ionic.on('tap', function(e) {
        var el = element[0];
        var bounds = el.getBoundingClientRect();

        if(ionic.DomUtil.rectContains(e.gesture.touches[0].pageX, e.gesture.touches[0].pageY, bounds.left, bounds.top, bounds.left + bounds.width, bounds.top + 20)) {
          _this.scrollTop();
        } 
      }, element[0]);
    },
    /**
     * Register a scope for scroll event handling.
     * $scope {Scope} the scope to register and listen for events
     */
    register: function($scope, $element) {
      $element.bind('scroll', function(e) {
        $scope.onScroll({
          event: e,
          scrollTop: e.detail ? e.detail.scrollTop : e.originalEvent ? e.originalEvent.detail.scrollTop : 0,
          scrollLeft: e.detail ? e.detail.scrollLeft: e.originalEvent ? e.originalEvent.detail.scrollLeft : 0
        });
      });

      $scope.$parent.$on('scroll.resize', function(e) {
        // Run the resize after this digest
        $timeout(function() {
          $scope.$parent.scrollView &amp;&amp; $scope.$parent.scrollView.resize();
        });
      });

      // Called to stop refreshing on the scroll view
      $scope.$parent.$on('scroll.refreshComplete', function(e) {
        $scope.$parent.scrollView &amp;&amp; $scope.$parent.scrollView.finishPullToRefresh();
      });

      /**
       * Called to scroll to the top of the content
       *
       * @param animate {boolean} whether to animate or just snap
       */
      $scope.$parent.$on('scroll.scrollTop', function(e, animate) {
        $scope.$parent.scrollView &amp;&amp; $scope.$parent.scrollView.scrollTo(0, 0, animate === false ? false : true);
      });
      $scope.$parent.$on('scroll.scrollBottom', function(e, animate) {
        var sv = $scope.$parent.scrollView;
        var max;
        if(!sv) { return; }
        max = sv.getScrollMax();
        sv.scrollTo(0, max.top, animate === false ? false : true);
      });
    }
  };
}]);

})(ionic);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Gesture.Instance.html">Instance</a></li><li><a href="ionic.Gesture.html">Gesture</a></li><li><a href="ionic.views.Scroll.html">Scroll</a></li></ul><h3>Global</h3><ul><li><a href="global.html#__clientHeight">__clientHeight</a></li><li><a href="global.html#__clientLeft">__clientLeft</a></li><li><a href="global.html#__clientTop">__clientTop</a></li><li><a href="global.html#__clientWidth">__clientWidth</a></li><li><a href="global.html#__computeScrollMax">__computeScrollMax</a></li><li><a href="global.html#__contentHeight">__contentHeight</a></li><li><a href="global.html#__contentWidth">__contentWidth</a></li><li><a href="global.html#__createScrollbar">__createScrollbar</a></li><li><a href="global.html#__decelerationVelocityX">__decelerationVelocityX</a></li><li><a href="global.html#__decelerationVelocityY">__decelerationVelocityY</a></li><li><a href="global.html#__didDecelerationComplete">__didDecelerationComplete</a></li><li><a href="global.html#__didWaitForSize">__didWaitForSize</a></li><li><a href="global.html#__indicatorX">__indicatorX</a></li><li><a href="global.html#__isAnimating">__isAnimating</a></li><li><a href="global.html#__isDecelerating">__isDecelerating</a></li><li><a href="global.html#__isDragging">__isDragging</a></li><li><a href="global.html#__isGesturing">__isGesturing</a></li><li><a href="global.html#__isSingleTouch">__isSingleTouch</a></li><li><a href="global.html#__isTracking">__isTracking</a></li><li><a href="global.html#__lastTouchLeft">__lastTouchLeft</a></li><li><a href="global.html#__lastTouchMove">__lastTouchMove</a></li><li><a href="global.html#__lastTouchTop">__lastTouchTop</a></li><li><a href="global.html#__maxDecelerationScrollLeft">__maxDecelerationScrollLeft</a></li><li><a href="global.html#__maxDecelerationScrollTop">__maxDecelerationScrollTop</a></li><li><a href="global.html#__maxScrollLeft">__maxScrollLeft</a></li><li><a href="global.html#__maxScrollTop">__maxScrollTop</a></li><li><a href="global.html#__minDecelerationScrollLeft">__minDecelerationScrollLeft</a></li><li><a href="global.html#__minDecelerationScrollTop">__minDecelerationScrollTop</a></li><li><a href="global.html#__positions">__positions</a></li><li><a href="global.html#__publish">__publish</a></li><li><a href="global.html#__refreshActivate">__refreshActivate</a></li><li><a href="global.html#__refreshActive">__refreshActive</a></li><li><a href="global.html#__refreshDeactivate">__refreshDeactivate</a></li><li><a href="global.html#__refreshHeight">__refreshHeight</a></li><li><a href="global.html#__refreshStart">__refreshStart</a></li><li><a href="global.html#__repositionScrollbars">__repositionScrollbars</a></li><li><a href="global.html#__scrollbarFadeTimeout">__scrollbarFadeTimeout</a></li><li><a href="global.html#__scrollLeft">__scrollLeft</a></li><li><a href="global.html#__scrollTop">__scrollTop</a></li><li><a href="global.html#__snapHeight">__snapHeight</a></li><li><a href="global.html#__snapWidth">__snapWidth</a></li><li><a href="global.html#__startDeceleration">__startDeceleration</a></li><li><a href="global.html#__stepThroughDeceleration">__stepThroughDeceleration</a></li><li><a href="global.html#__transformProperty">__transformProperty</a></li><li><a href="global.html#__waitForSize">__waitForSize</a></li><li><a href="global.html#__zoomLevel">__zoomLevel</a></li><li><a href="global.html#_handleDrag">_handleDrag</a></li><li><a href="global.html#_handleTouch">_handleTouch</a></li><li><a href="global.html#activatePullToRefresh">activatePullToRefresh</a></li><li><a href="global.html#align">align</a></li><li><a href="global.html#close">close</a></li><li><a href="global.html#didScroll">didScroll</a></li><li><a href="global.html#doMouseZoom">doMouseZoom</a></li><li><a href="global.html#doTouchEnd">doTouchEnd</a></li><li><a href="global.html#doTouchMove">doTouchMove</a></li><li><a href="global.html#doTouchStart">doTouchStart</a></li><li><a href="global.html#finishPullToRefresh">finishPullToRefresh</a></li><li><a href="global.html#fromTemplate">fromTemplate</a></li><li><a href="global.html#getControllers">getControllers</a></li><li><a href="global.html#getOpenAmount">getOpenAmount</a></li><li><a href="global.html#getOpenPercentage">getOpenPercentage</a></li><li><a href="global.html#getOpenRatio">getOpenRatio</a></li><li><a href="global.html#getScrollMax">getScrollMax</a></li><li><a href="global.html#getTopController">getTopController</a></li><li><a href="global.html#getValues">getValues</a></li><li><a href="global.html#hideNavBar">hideNavBar</a></li><li><a href="global.html#offHardwareBackButton">offHardwareBackButton</a></li><li><a href="global.html#onHardwareBackButton">onHardwareBackButton</a></li><li><a href="global.html#openAmount">openAmount</a></li><li><a href="global.html#openPercentage">openPercentage</a></li><li><a href="global.html#pop">pop</a></li><li><a href="global.html#preventDefault">preventDefault</a></li><li><a href="global.html#push">push</a></li><li><a href="global.html#ready">ready</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#scrollBy">scrollBy</a></li><li><a href="global.html#scrollTo">scrollTo</a></li><li><a href="global.html#scrollTop">scrollTop</a></li><li><a href="global.html#setContent">setContent</a></li><li><a href="global.html#setDimensions">setDimensions</a></li><li><a href="global.html#setPosition">setPosition</a></li><li><a href="global.html#setSnapSize">setSnapSize</a></li><li><a href="global.html#show">show</a></li><li><a href="global.html#showNavBar">showNavBar</a></li><li><a href="global.html#snapToRest">snapToRest</a></li><li><a href="global.html#stopDetect">stopDetect</a></li><li><a href="global.html#stopPropagation">stopPropagation</a></li><li><a href="global.html#stopRefreshing">stopRefreshing</a></li><li><a href="global.html#toggleLeft">toggleLeft</a></li><li><a href="global.html#toggleRight">toggleRight</a></li><li><a href="global.html#triggerPullToRefresh">triggerPullToRefresh</a></li><li><a href="global.html#update">update</a></li><li><a href="global.html#zoomBy">zoomBy</a></li><li><a href="global.html#zoomTo">zoomTo</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha3</a> on Wed Jan 22 2014 14:46:04 GMT-0600 (CST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
